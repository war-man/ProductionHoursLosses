@model ProductionHoursLosses.Models.ViewModels.HeaderViewModel
@using ProductionHoursLosses.Models

@{
    ViewBag.Title = "Create";
}

<head>
    @*<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>*@
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="~/Content/css/select2.css" rel="stylesheet" />
    <script src="~/Scripts/select2.js"></script>
    @*<script src="~/Scripts/jquery-3.5.1.js"></script>
        <script src="~/Scripts/jquery.validate.js"></script>
        <script src="~/Scripts/jquery.validate.unobtrusive.js"></script>*@
    <link href="~/Content/themes/base/jquery-ui.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-3.5.1.min.js"></script>
    <script src="~/Scripts/jquery-ui-1.12.1.min.js"></script>


    @*<script type='text/javascript'>
            $(function () {
                $('.datepicker').datepicker();
            })
        </script>*@
</head>

<h2>Create</h2>

@using (Html.BeginForm(null, null, FormMethod.Post, new { id = "formSubmit" }))
{
    @Html.AntiForgeryToken()
    Html.RenderPartial("~/Views/Shared/_HiddenInputFields.cshtml", Model);


    @*<link href="~/Content/themes/base/jquery-ui.min.css" rel="stylesheet" />*@



<div class="form-horizontal">
    <h4>Enter details:</h4>
    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div class="form-group">
        @Html.Label("Date: *", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        @*@Html.LabelFor(model => model.SelectedDate, htmlAttributes: new { @class = "control-label col-md-2" })*@
        <div class="col-md-10">
            @Html.EditorFor(model => model.SelectedDate, new { htmlAttributes = new { @class = "datepicker", id = "datepickerId" } })
            <span class="fa fa-calendar"> </span>
            @Html.ValidationMessageFor(model => model.SelectedDate, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Factory: *", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            <select class="" id="SelectedFactoryDropDownID" style="" onchange="OnDropDownFactoryChange()">
                @if (Model.SelectedFactoryID != null)
                {
                    <option value="@Model.SelectedFactoryID" selected>@Model.SelectedFactory.NAME</option>
                }
            </select>
            @Html.ValidationMessageFor(model => model.SelectedFactoryID, "", new { @class = "text-danger" })
            <br />
            <br />
        </div>
    </div>

    @*<div class="form-group">
            @Html.LabelFor(model => model.FACTORY_ID, "FACTORY_ID", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("FACTORY_ID", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.FACTORY_ID, "", new { @class = "text-danger" })
            </div>
        </div>*@

    <div class="form-group">
        @Html.Label("Room: *", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            <select class="" id="SelectedRoomDropDownId" style="" onchange="OnDropDownRoomChange()">
                @if (Model.SelectedRoomID != null)
                {
                    <option value="@Model.SelectedRoomID" selected>@Model.SelectedRoom.NAME</option>
                }
            </select>
            @Html.ValidationMessageFor(model => model.SelectedRoomID, "", new { @class = "text-danger" })
            <br />
            <br />
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Avail. Hours: *", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            <select class="" id="SelectedAvailHoursDropDownId" style="" onchange="OnDropDownAvailHoursChange()">
                @if (Model.SelectedAvailHours != null)
                {
                    <option value="@Model.SelectedAvailHours" selected>@Model.SelectedAvailHours</option>
                }
            </select>
            @Html.ValidationMessageFor(model => model.SelectedAvailHours, "", new { @class = "text-danger" })
            <br />
            <br />
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Status: *", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            <select class="" id="SelectedStatusDropDownId" style="" onchange="OnDropDownStatusChange()">
                @if (Model.SelectedStatusID != null)
                {
                    <option value="@Model.SelectedStatusID" selected>@Model.SelectedStatus.NAME</option>
                }
            </select>
            @Html.ValidationMessageFor(model => model.SelectedStatusID, "", new { @class = "text-danger" })
            <br />
            <br />
        </div>
    </div>

    @*<div class="form-group">
            @Html.LabelFor(model => model.ROOM_ID, "ROOM_ID", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("ROOM_ID", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.ROOM_ID, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.AVAIL_HRS, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.AVAIL_HRS, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.AVAIL_HRS, "", new { @class = "text-danger" })
            </div>
        </div>



        <div class="form-group">
            @Html.LabelFor(model => model.STATUS_ID, "STATUS_ID", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownList("STATUS_ID", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.STATUS_ID, "", new { @class = "text-danger" })
            </div>
        </div>*@

<div class="col-md-offset-2 col-md-10">
    @*<div class="col-md-offset-2 col-md-10">
        <button type="button" class="btn btn-warning" title="Add Details" id="addDetail" onclick="AddDetailClicked()">
            <span class="fa fa-plus"></span> Add
        </button>
    </div>*@
    <button id="addDetail" onclick="AddDetailClicked()" type="button" class="btn btn-default"><span class="fa fa-plus"></span> Add Detail</button>
</div>
    

<div class="form-group" id="divDetailLosses" style="display:none">
    <h4>Enter losses:</h4>
    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div class="form-group">
        @Html.Label("Start Time: *", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.SelectedStartTime, new { htmlAttributes = new { @class = "form-control", id = "timepickerId" } })
            @Html.ValidationMessageFor(model => model.SelectedStartTime, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.Label("End Time: *", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })

        <div class="col-md-10">
            @Html.EditorFor(model => model.SelectedEndTime, new { htmlAttributes = new { @class = "form-control", id = "timepickerId" } })
            @Html.ValidationMessageFor(model => model.SelectedEndTime, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Product: *", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            <select class="" id="SelectedProductDropDownId" style="" onchange="OnDropDownProductChange()">
                @if (Model.SelectedProductId != null)
                {
                    <option value="@Model.SelectedProductId" selected>@Model.SelectedProduct.DESCRIPTION</option>
                }
            </select>
            @Html.ValidationMessageFor(model => model.SelectedProductId, "", new { @class = "text-danger" })
            <br />
            <br />
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Batch Number: *", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })

        <div class="col-md-10">
            @Html.EditorFor(model => model.SelectedBatchNo, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.SelectedBatchNo, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Work Order: *", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })

        <div class="col-md-10">
            @Html.EditorFor(model => model.SelectedWorkOrder, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.SelectedWorkOrder, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Shift: *", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            <select class="" id="SelectedShiftDropDownId" style="" onchange="OnDropDownShiftChange()">
                @if (Model.SelectedShift != null)
                {
                    <option value="@Model.SelectedShift" selected>@Model.SelectedShift</option>
                }
            </select>
            @Html.ValidationMessageFor(model => model.SelectedShift, "", new { @class = "text-danger" })
            <br />
            <br />
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Actual Hours:", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            <select class="" id="SelectedActualHoursDropDownId" style="" onchange="OnDropDownActualHoursChange()">
                @if (Model.SelectedActualHours != null)
                {
                    <option value="@Model.SelectedActualHours" selected>@Model.SelectedActualHours</option>
                }
            </select>
            @Html.ValidationMessageFor(model => model.SelectedActualHours, "", new { @class = "text-danger" })
            <br />
            <br />
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Tablet weight (mg):", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.SelectedUnitWeight, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.SelectedUnitWeight, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Speed Machine RPM:", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.SelectedSpeedMachineRpm, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.SelectedSpeedMachineRpm, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Actual Quantity (Kg):", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.SelectedActualQuantity, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.SelectedActualQuantity, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Num. of people:", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.SelectedNumPeople, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.SelectedNumPeople, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        @Html.Label("Tablets:", htmlAttributes: new { @class = "control-label col-md-2", style = "color:#A93226" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.SelectedUnits, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.SelectedUnits, "", new { @class = "text-danger" })
        </div>
    </div>

</div>

    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Create" class="btn btn-default" />
        </div>
    </div>
</div>



}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>



@section Scripts {
    @*@Scripts.Render("~/bundles/jqueryval")*@
    <link href="~/Content/font-awesome.min.css" rel="stylesheet" />
    <link href="~/Content/css/select2.css" rel="stylesheet" />
    <script src="~/Scripts/select2.js"></script>
    <script src="~/Scripts/Header/HeaderJS.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.8.1/jquery.timepicker.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.8.1/jquery.timepicker.min.css" type="text/css" />

    <script type="text/javascript">

        $(document).ready(function () {
            document.getElementById("divDetailLosses").style.display = "none";
        });

        $(function () {
            $(".datepicker").datepicker({
                dateFormat: "dd-mm-yy",
                changemonth: true,
                changeyear: true
            });
        });

        $(function () {
            $('.timepicker').timepicker({
                timeFormat: 'h:mm',
                interval: 30,
                minTime: '8:00am',
                maxTime: '11:00pm',
                // defaultTime: '5:00pm',
                startTime: '8:00am',
                dynamic: true,
                dropdown: true,
                scrollbar: true,
                showLeadingZero: true
            });
        });
    </script>

}
